<div th:if="${content == 'customers'}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet"/>

    <style>
        body {
            background-color: #f9f9f9;
            padding: 30px;
        }

        .header {
            display: flex;
            align-items: center;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .header i {
            margin-right: 10px;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .btn-add {
            background-color: #ff6a00;
            color: white;
            font-weight: 500;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
        }

        .search-box {
            position: relative;
            width: 250px;
        }

        .search-box input {
            padding-right: 30px;
            border-radius: 8px;
        }

        .search-box .fa-search {
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            color: #aaa;
        }

        .table th, .table td {
            text-align: center;
            vertical-align: middle;
        }

        .status-active {
            background-color: #dcfce7;
            color: #16a34a;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .status-deactivate {
            background-color: #fee2e2;
            color: #dc2626;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .btn-action {
            background: none;
            border: none;
            margin: 0 5px;
            font-size: 16px;
        }

        .btn-lock i.text-success {
            color: #16a34a;
        }

        .btn-lock i.text-danger {
            color: #dc2626;
        }

        .btn-edit i.text-warning {
            color: #f59e0b;
        }

        .pagination .page-link {
            color: #ff6a00;
            border: 1px solid #ff6a00;
        }

        .pagination .active .page-link {
            background-color: #ff6a00;
            border-color: #ff6a00;
            color: white;
        }
    </style>

    <!-- Tiêu đề -->
    <div class="header">
        <i class="fas fa-users"></i> Customer
    </div>

    <!-- Thanh trên: Nút và tìm kiếm -->
    <div class="top-bar">
        <button class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#customerModal">Add Customer</button>
        <div class="search-box">
            <input type="text" class="form-control" placeholder="Search here..."/>
            <i class="fas fa-search"></i>
        </div>
    </div>

    <!-- Bảng -->
    <div class="table-responsive">
        <table class="table table-hover">
            <thead class="table-light">
            <tr>
                <th>STT</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Address</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="customer, stat : ${customers}">
                <td th:text="${stat.index + 1}">1</td>
                <td th:text="${customer.name}">Leanne Graham</td>
                <td th:text="${customer.email}">Sincere@gmail.com</td>
                <td th:text="${customer.phone}">0987654321</td>
                <td th:text="${customer.address}">Alabama</td>
                <td>
                    <span th:if="${customer.status}" class="status-active">Active</span>
                    <span th:unless="${customer.status}" class="status-deactivate">Deactivate</span>
                </td>
                <td>
                    <button class="btn-action btn-lock" th:title="${customer.status ? 'Lock' : 'Unlock'}">
                        <i class="fas" th:classappend="${customer.status} ? ' fa-lock-open text-success' : ' fa-lock text-danger'"></i>
                    </button>
                    <button class="btn-action btn-edit" title="Edit">
                        <i class="fas fa-pen text-warning"></i>
                    </button>
                    <button type="button" class="btn btn-danger btn-sm"
                            title="Xóa" data-bs-toggle="modal"
                            th:data-bs-target="'#deleteModal' + ${customer.id}">
                        <i class="fas fa-trash"></i>
                    </button>
                    <div class="modal fade" th:id="'deleteModal' + ${customer.id}" tabindex="-1">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">Xác nhận xóa</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body">
                                    <p>Bạn có chắc chắn muốn xóa khách hàng <strong
                                            th:text="${customer.name}"></strong> không?</p>
                                    <p class="text-danger"><small>Hành động này không thể hoàn tác!</small></p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy
                                    </button>
                                    <form th:action="@{/admin/customers/delete/{id}(id=${customer.id})}" method="post"
                                          style="display: inline;">
                                        <button type="submit" class="btn btn-danger">Xóa</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- Bootstrap Modal -->
    <div class="modal" id="customerModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" style="max-width: 500px;">
            <div class="modal-content">
                <form id="customerForm" th:action="@{/admin/customers/save}" method="post" th:object="${customerDTO}">
                    <div class="modal-header">
                        <h5 class="modal-title">Add Customer</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label>Name *</label>
                            <input type="text" th:field="*{name}" class="form-control">
                            <div class="invalid-feedback" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
                        </div>
                        <div class="mb-3">
                            <label>Email *</label>
                            <input type="email" th:field="*{email}" class="form-control">
                            <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
                        </div>
                        <div class="mb-3">
                            <label>Phone *</label>
                            <input type="tel" th:field="*{phone}" class="form-control">
                            <div class="invalid-feedback" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></div>
                        </div>
                        <div class="mb-3">
                            <label>Address *</label>
                            <textarea th:field="*{address}" class="form-control"></textarea>
                            <div class="invalid-feedback" th:if="${#fields.hasErrors('address')}" th:errors="*{address}"></div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-warning">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Phân trang -->
    <nav class="d-flex justify-content-end mt-4">
        <ul class="pagination">
            <li class="page-item"><a class="page-link" href="#"><i class="fas fa-angle-left"></i></a></li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item active"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">4</a></li>
            <li class="page-item"><a class="page-link" href="#">5</a></li>
            <li class="page-item"><a class="page-link" href="#">6</a></li>
            <li class="page-item"><a class="page-link" href="#">7</a></li>
            <li class="page-item"><a class="page-link" href="#"><i class="fas fa-angle-right"></i></a></li>
        </ul>
    </nav>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</div>
